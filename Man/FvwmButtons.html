---
title: FvwmButtons manual page
showtitle: 1
permalink: /Man/FvwmButtons/index.html
---
<div id="markdown-toc">
<ul class="sectlevel1">
<li><a href="#_name">NAME</a></li>
<li><a href="#_synopsis">SYNOPSIS</a></li>
<li><a href="#_description">DESCRIPTION</a></li>
<li><a href="#_options">OPTIONS</a></li>
<li><a href="#_invocation">INVOCATION</a></li>
<li><a href="#_configuration_options">CONFIGURATION OPTIONS</a></li>
<li><a href="#_creating_panels">CREATING PANELS</a>
<ul class="sectlevel2">
<li><a href="#_how_to_create_new_panels">HOW TO CREATE NEW PANELS</a></li>
<li><a href="#_converting_old_panel_configurations">CONVERTING OLD PANEL CONFIGURATIONS</a></li>
<li><a href="#_why_was_the_panel_feature_rewritten">WHY WAS THE PANEL FEATURE REWRITTEN?</a></li>
</ul>
</li>
<li><a href="#_arrangement_algorithm">ARRANGEMENT ALGORITHM</a></li>
<li><a href="#_dynamical_actions">DYNAMICAL ACTIONS</a></li>
<li><a href="#_sample_configuration">SAMPLE CONFIGURATION</a></li>
<li><a href="#_bugs">BUGS</a></li>
<li><a href="#_history">HISTORY</a></li>
<li><a href="#_author">AUTHOR</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FvwmButtons - the fvwm buttonbox module</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="literalblock highlight">
<div class="content">
<pre>Module FvwmButtons [-g geometry] [-transient | -transientpanel] [name[configfile]]</pre>
</div>
</div>
<div class="paragraph">
<p><em>FvwmButtons</em> can only be invoked by fvwm. Command line invocation of
the <em>FvwmButtons</em> module will not work.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The FvwmButtons module provides a window of buttons which sits on the X
terminal&#8217;s root window. The user can press the buttons at any time, and
trigger invocation of a user-specified command by the window manager.
FvwmButtons only works when fvwm is used as the window manager.</p>
</div>
<div class="paragraph">
<p>The buttonbox can be of any configuration or geometry, and can have
monochrome or color icons to represent the actions which would be
invoked. Even other applications can be 'swallowed' by the button bar.</p>
</div>
<div class="paragraph">
<p>Panels that are opened on a button press are available too. See
<em>CREATING PANELS</em> section for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>-g</em> option specifies the geometry of the main window. The command
line option takes precedence over any other geometry settings in the
configuration file.</p>
</div>
<div class="paragraph">
<p>The <em>-transient</em> option tells FvwmButtons to terminate itself after the
first key or button press has been received (presses to open a sub panel
do not count) or a sub panel has been closed or respawned. This is
especially useful for sub panels where you want to select a single
button and have it closed automatically. It could be used to create
two-dimensional graphical menus. Since <em>-transient</em> is an option, not a
configuration setting you can use the same configuration for transient
and non transient button bars.</p>
</div>
<div class="paragraph">
<p>The <em>-transientpanel</em> option does roughly the same as the <em>-transient</em>
option, but instead of closing the whole button bar, the window is
merely hidden. This is very useful if the button bar is started as a
subpanel of another button bar because it avoids that it must be started
again when something is selected.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_invocation">INVOCATION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FvwmButtons is spawned by fvwm, so command line invocation will not
work.</p>
</div>
<div class="paragraph">
<p>FvwmButtons can be invoked by inserting the line 'Module FvwmButtons
OptionalName' in the .fvwm2rc file. This should be placed in the
StartFunction if FvwmButtons is to be spawned during fvwm&#8217;s
initialization. This can be bound to a menu or mouse button or keystroke
to invoke it later.</p>
</div>
<div class="paragraph">
<p>When invoked with the <em>OptionalName</em> argument, the <em>OptionalName</em> is
used to find configuration commands. For example:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>AddToFunc StartFunction Module FvwmButtons MyButtonBox</pre>
</div>
</div>
<div class="paragraph">
<p>FvwmButtons will then use only the lines starting with "*MyButtonBox",
instead of the default "*FvwmButtons".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_options">CONFIGURATION OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following commands are understood by FvwmButtons:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">*FvwmButtons: Back color</dt>
<dd>
<p>Specifies the background color for the buttons. The relief and shadow
color are calculated from the background color.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: BoxSize algorithm</dt>
<dd>
<p>This option specifies how serious FvwmButtons takes the Rows and
Columns options (see below). It can be one of <em>dumb</em>, <em>fixed</em> or
<em>smart</em>.</p>
<div class="paragraph">
<p>If <em>fixed</em> is used and both Rows and Columns are specified and non-zero,
FvwmButtons uses exactly the number of rows and columns specified. If
the box is too small to accommodate all buttons the module will fail.</p>
</div>
<div class="paragraph">
<p>If <em>smart</em> is used FvwmButtons enlarges the box so all buttons have a
chance to fit. The number of columns is increased to at least the width
of the widest button and new rows are added until all buttons are
placed. For the best tolerance of configuration errors use the smart
option.</p>
</div>
<div class="paragraph">
<p><em>dumb</em> is neither <em>fixed</em> nor <em>smart.</em> This is the default.</p>
</div>
</dd>
<dt class="hdlist1">*FvwmButtons: Colorset colorset</dt>
<dd>
<p>Tells the module to use colorset <em>colorset</em> for the window background.
Refer to the fvwm man page for details about colorsets.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: ActiveColorset colorset</dt>
<dd>
<p>Tells the module to use colorset <em>colorset</em> for the background
color/image and/or title color of a button when the mouse is hovering
above a button.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: PressColorset colorset</dt>
<dd>
<p>Tells the module to use colorset <em>colorset</em> for the background
color/image and/or title color of a button when it is pressed.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Columns columns</dt>
<dd>
<p>Specifies the number of columns of buttons to be created. If
unspecified, the number of columns is set to the number of buttons
requested, divided by the number of rows. If both the rows and columns
are specified, but the number of buttons is more than the rows and
columns allow for, the columns specification is ignored unless the
<em>BoxSize</em> option is <em>fixed</em>.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: File filename</dt>
<dd>
<p>Specifies that the configuration for this button is found in the file
<em>filename</em>. <em>Filename</em> can be a full pathname, or is assumed to be in
fvwm&#8217;s startup directory. The configuration file is in the same format
as fvwm&#8217;s configuration file, but each line is read as if prefixed by
"*FvwmButtons". Comments are given by starting a line with "#". Line
continuation is done by ending a line with a "\".</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Font font</dt>
<dd>
<p>Specifies the font to be used for labeling the buttons, or <em>None</em>.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Fore color</dt>
<dd>
<p>Specifies the color used for button label text and monochrome icons.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Frame width</dt>
<dd>
<p>Specifies the width of the relief around each button. If this is a
negative number, the relief is inverted. This makes the button sunken
normally and raised when activated.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Geometry geometry</dt>
<dd>
<p>Specifies the FvwmButtons window location and size. The geometry is a
standard X11 window geometry specification.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: ButtonGeometry geometry</dt>
<dd>
<p>This option works like the <em>Geometry</em> option except that the size is
the size of a single button. The size of the whole FvwmButtons window
is calculated by multiplying the button dimension by the number of
rows and columns.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Padding width height</dt>
<dd>
<p>This option specifies the default horizontal padding to be <em>width</em>
pixels, and the vertical padding to be <em>height</em> pixels. The amount of
free space between the relief of the button and its contents is
normally 2 pixels on the sides and 4 pixels above and below, except
for swallowed windows and containers, which are not padded at all,
unless this option is used.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Pixmap pixmapfile</dt>
<dd>
<p>Specifies a background pixmap to use. Specify "none" (without the
double quotes) for a transparent background.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: Rows rows</dt>
<dd>
<p>Specifies the number of rows of buttons to be created. The default is
2 rows.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: WindowName name</dt>
<dd>
<p>If FvwmButtons has a titlebar enabled with Title style, (for example,
some transient subpanel), this option can set it&#8217;s Window name and
Icon name to a string provided with this parameter. If omitted,
default for Window and Icon name is the window resource name which
itself is simply "FvwmButtons", or is derived from the alias by which
FvwmButtons configuration is referenced. This enables setting a title
with spaces and larger number of non-ASCII characters which is not
allowed as an alias for FvwmButtons module instance otherwise.</p>
</dd>
<dt class="hdlist1">*FvwmButtons: (options) [title icon command]</dt>
<dd>
<p>Specifies the contents of a button in the buttonbox. The following
<em>options</em>, separated by commas or whitespace, can be given a button:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>geometry</em></dt>
<dd>
<p>Specifies the size and position of the button within the FvwmButtons
window or container. The geometry is a standard X11 window geometry
specification. The button is <em>width</em> times the normal button width
and <em>height</em> times the normal button height. If values for <em>x</em> and
<em>y</em> are given, the button is placed x (y) button units from the left
(top) of the container if x (y) is positive and x (y) units from the
right (bottom) if x (y) is negative. Buttons with position arguments
(x and y) are placed before those without them. If two or more
buttons are forced to overlap by this, FvwmButtons exits with an
error message.</p>
</dd>
<dt class="hdlist1">Action [(<em>options</em>)] <em>command</em></dt>
<dd>
<p>Specifies an fvwm command to be executed when the button is
activated by pressing return or a mouse button. The <em>command</em> needs
to be quoted if it contains a comma or a closing parenthesis.</p>
<div class="paragraph">
<p>The current options of the <em>Action</em> are: Mouse <em>n</em> - this action is
only executed for mouse button <em>n</em>. One action can be defined for each
mouse button, in addition to the general action.</p>
</div>
<div class="paragraph">
<p>In the <em>command</em> part, you can use a number of predefined variables:
<em>$left</em>, <em>$right</em>, <em>$top</em> and <em>$bottom</em> are substituted by the left,
right, top and bottom coordinates of the button pressed. <em>$-left</em>,
<em>$-right</em>, <em>$-top</em> and <em>$-bottom</em> are substituted likewise, but the
coordinates are calculated from the bottom or the right edge of the
screen instead (for a button that is 5 pixels away from the right
screen border, $-right will be 5). <em>$width</em> and <em>$height</em> are replaced
by the width or height of the button. The variables <em>$fg</em> and <em>$bg</em>
are replaced with the name of the foreground or background color set
with the <em>Back</em> or <em>Fore</em> option (see below). All this is done
regardless of any quoting characters. To get a literal '$' use the
string '$$'.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Title xload, Action (Mouse 1) \
    `Exec exec xload -fg $fg -bg $bg -geometry -3000-3000`)</pre>
</div>
</div>
<div class="paragraph">
<p>Note: With fvwm versions prior to 2.5.0, actions could not be assigned
to a button that swallowed an application window (see <em>Swallow</em>
option). Such actions worked only when the border around the button
was clicked. This is now possible, but to get back the old behavior,
the <em>ActionIgnoresClientWindow</em> can be used on the button:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Action beep, ActionIgnoresClientWindow, \
     Swallow xeyes "Exec exec xeyes")</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the action is only executed when you click on the
border of the button or the transparent part of the xeyes window, but
not on the xeyes window itself.</p>
</div>
</dd>
<dt class="hdlist1">ActionIgnoresClientWindow</dt>
<dd>
<p>See the note in the description of <em>Action</em> above.</p>
</dd>
<dt class="hdlist1">ActionOnPress</dt>
<dd>
<p>Usually the action is executed on the button release except for the
<strong>Popup</strong> action. This option changes this behavior, the action is
executed on the button press. This may be good, for example, with
<strong>Menu</strong> or <strong>SendToModule</strong> that generates popups, or when <strong>Frame</strong> is 0
and the button would look unresponsive otherwise.</p>
</dd>
<dt class="hdlist1">Back color</dt>
<dd>
<p>Specifies the background color to be used drawing this box. A relief
color and a shadow color are calculated from this.</p>
</dd>
<dt class="hdlist1">Center</dt>
<dd>
<p>The contents of the button is centered on the button. This is the
default but may be changed by <em>Left</em> or <em>Right</em>.</p>
</dd>
<dt class="hdlist1">Top</dt>
<dd>
<p>The contents of the button is vertically aligned at the top of the
button. The default is to vertically center it.</p>
</dd>
<dt class="hdlist1">Colorset colorset</dt>
<dd>
<p>The given colorset can be applied to a container, a swallowed
application and a simple button. To apply it to a button or
container, simply put the option in a line with a button or
container description. Drawing backgrounds for individual buttons
and containers with colorsets requires a lot of communication with
the X server. So if you are not content with the drawing speed of
dozens of buttons with colorset backgrounds, do not use colorsets
here. Setting colorsets as the background of swallowed applications
does not have this restriction but depends entirely on the swallowed
application. It may work as you wish, but since it involves fiddling
with other applications' windows there is no guarantee for anything.
I have tested three applications: xosview works nicely with a
colorset background, xload works only with a VGradient or solid
background and an analog xclock leaves a trail painted in the
background color after its hands.</p>
<div class="paragraph">
<p>If the swallowed window is an fvwm module (see the (No)FvwmModule
option to Swallow), then the <em>colorset</em> is not applied to the
swallowed module. You should use the <em>colorset</em> in the module
configuration. If the swallowed module has a transparent colorset
background, then the FvwmButtons background (and not the button
colorset) is seen by transparency of the background of the swallowed
module. Refer to the fvwm man page for details about colorsets.</p>
</div>
</dd>
<dt class="hdlist1">ActiveColorset colorset</dt>
<dd>
<p>Use colorset <em>colorset</em> for the background color/image and/or title
color of the button when the mouse is hovering above it.</p>
</dd>
<dt class="hdlist1">PressColorset colorset</dt>
<dd>
<p>Use colorset <em>colorset</em> for the background color/image and/or title
color of the button when it is pressed.</p>
</dd>
<dt class="hdlist1">Container [(options)]</dt>
<dd>
<p>Specifies that this button will contain a miniature buttonbox,
equivalent to swallowing another FvwmButtons module. The options are
the same as can be given for a single button, but they affect all
the contained buttons. Options available for this use are <em>Back,
Font, Fore, Frame</em> and <em>Padding</em>. Flags for Title and Swallow
options can be set with <em>Title(flags)</em> and <em>Swallow(flags)</em>. You
should also specify either "Columns <em>width</em>" or "Rows <em>height</em>", or
"Rows 2" will be assumed. For an example, see the <em>Sample
configuration</em> section.</p>
<div class="paragraph">
<p>The container button itself (separate from the contents) can take
format options like <em>Frame</em> and <em>Padding</em>, and commands can be bound
to it. This means you can make a sensitive relief around a container,
like</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (2x2, Frame 5, Padding 2 2, Action Beep,\
      Container(Frame 1))</pre>
</div>
</div>
<div class="paragraph">
<p>Typically you will want to at least give the container a size setting
<em>width</em>x_height_.</p>
</div>
</dd>
<dt class="hdlist1">End</dt>
<dd>
<p>Specifies that no more buttons are defined for the current
container, and further buttons will be put in the container&#8217;s
parent. This option should be given on a line by itself, i.e</p>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (End)</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Font fontname</dt>
<dd>
<p>Specifies that the font <em>fontname</em> is to be used for labeling this
button.</p>
</dd>
<dt class="hdlist1">Fore color</dt>
<dd>
<p>Specifies the foregound color of the title and monochrome icons in
this button.</p>
</dd>
<dt class="hdlist1">Frame width</dt>
<dd>
<p>The relief of the button will be <em>width</em> pixels wide. If <em>width</em> is
given as a negative number, the relief is inverted. This makes the
button sunken normally and raised when activated.</p>
</dd>
<dt class="hdlist1">Icon filename</dt>
<dd>
<p>The name of an image file, containing the icon to display on the
button. FvwmButtons searches through the path specified in the fvwm
ImagePath configuration item to find the icon file.</p>
</dd>
<dt class="hdlist1">ActiveIcon filename</dt>
<dd>
<p>The name of an image file, containing an alternative icon to display
on the button when the mouse is hovering above the button. If no
ActiveIcon is specified, the image specified by Icon is displayed
(if there is one).</p>
</dd>
<dt class="hdlist1">PressIcon filename</dt>
<dd>
<p>The name of an image file, containing an alternative icon to display
on the button when the button is pressed. If no PressIcon is
specified, the image specified by Icon is displayed (if there is one).</p>
</dd>
<dt class="hdlist1">Id id</dt>
<dd>
<p>The id to be used to identify this button. The first character of
the id should be alphabetic. See also the "DYNAMICAL ACTIONS"
section.</p>
</dd>
<dt class="hdlist1">Left</dt>
<dd>
<p>The contents of the button are aligned to the left. The default is
to center the contents on the button.</p>
</dd>
<dt class="hdlist1">NoSize</dt>
<dd>
<p>This option specifies that this button will not be considered at all
when making the initial calculations of button sizes. Useful for the
odd button that gets just a couple of pixels too large to keep in
line, and therefore blows up your whole buttonbox. "NoSize" is
equivalent to "Size 0 0".</p>
</dd>
<dt class="hdlist1">Padding width height</dt>
<dd>
<p>The amount of free space between the relief of the button and its
contents is normally 2 pixels to the sides and 4 pixels above and
below, except for swallowed windows and containers, which are by
default not padded at all. This option sets the horizontal padding
to <em>width</em> and the vertical padding to <em>height</em>.</p>
</dd>
<dt class="hdlist1">Panel [ (options) ] hangon command</dt>
<dd>
<p>Panels can be swallowed exactly like windows are swallowed by
buttons with the <em>Swallow</em> command below, but they are not displayed
within the button. Instead they are hidden until the user presses
the panel&#8217;s button. Then the panel (the window of the swallowed
application) opens with a sliding animation. The <em>options</em> can be
any of the <em>flags</em> described for the Swallow command. In addition a
direction 'left', 'right', 'up' or 'down' can be used to specify the
sliding direction.</p>
<div class="paragraph">
<p>The <em>steps animation-steps</em> option defines the number of animation steps.</p>
</div>
<div class="paragraph">
<p>The <em>delay ms</em> option sets the delay between the steps of the
animation in milliseconds. Use zero for no delay. The maximum delay is
10 seconds (10000). It doesn&#8217;t make any sense to use the delay option
unless you also use the smooth option.</p>
</div>
<div class="paragraph">
<p>The <em>smooth</em> option causes the panel to redraw between the steps of
the animation. The sliding animation may be smoother this way, it
depends on the application, and display speed. The application may
appear to grow instead of sliding out. The animation may be slower.</p>
</div>
<div class="paragraph">
<p>The <em>Hints</em> option causes FvwmButtons to use the applications size
hints to calculate the size of the animation steps. <em>Hints</em> is the
default. If the number of steps is not what you want, try using
<em>NoHints.</em></p>
</div>
<div class="paragraph">
<p>The <em>noborder</em> option tells FvwmButtons to ignore the borders of the
window when calculating positions for the animation (equivalent to set
noplr and noptb in the position option).</p>
</div>
<div class="paragraph">
<p>With the <em>indicator</em> option set, FvwmButtons will draw a small
triangle in the button that will open a panel. The triangle points in
the direction where the panel will pop up. The <em>indicator</em> keyword may
be followed by a positive integer that specifies the maximum width and
height of the indicator. Without this size FvwmButtons will make the
indicator fit the button. You will probably want to use the <em>Padding</em>
option to leave a few pixels between the indicator and the frame of
the button. Second option to indicator may be given which enters the
look of the triangle. If this keyword is <em>in</em>, triangle will appear
pressed in, while <em>out</em> will make triangle to appear depressed (3D
raised). If this keyword is omitted, default will be <em>out</em> or
depressed.</p>
</div>
<div class="paragraph">
<p>The <em>position</em> option allows one to place the panel. The syntax is:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>position [context-window] [pos] [x y] [border-opts]</pre>
</div>
</div>
<div class="paragraph">
<p>The argument <em>context-window</em> can be one of: Button, Module or Root.
The <em>context-window</em> is the window from which panel percentage offsets
are calculated. Button specifies the panel&#8217;s button, Module specifies
FvwmButtons itself, and Root specifies a virtual screen. The
context-window together with the sliding direction define a line
segment which is one of the borders of the context-window: the
top/bottom/left/right border for sliding up/down/left/right.</p>
</div>
<div class="paragraph">
<p>The <em>pos</em> argument can be one of: center, left or right (for sliding
up or a down) or top or bottom (for sliding left or right). It defines
the vertical (sliding up and down) or the horizontal (sliding left and
right) position of the Panel on the line segment. For example, for a
sliding up if you use a left pos, then the left borders of the panel
and of the context-window will be aligned.</p>
</div>
<div class="paragraph">
<p>The offset values <em>x</em> and <em>y</em> specify how far the panel is moved from
it&#8217;s default position. By default, the numeric value given is
interpreted as a percentage of the context window&#8217;s width (height). A
trailing "p" changes the interpretation to mean "pixels". All offset
calculations are relative to the buttons location, even when using a
root context.</p>
</div>
<div class="paragraph">
<p>The <em>border-opts</em> are: mlr, mtb, noplr and noptb. They define which
border widths are taken in account. By default, the borders of
FvwmButtons are not taken in account. mlr reverses this default for
the left and the right border and mtb reverses this default for the
top and the bottom border. Conversely, by default the borders of the
Panel are taken in account. noplr reverses this default for the left
and the right border and noptb reverses this default for the top and
the bottom border.</p>
</div>
<div class="paragraph">
<p>The defaults are sliding up with a delay of five milliseconds and
twelve animation steps. To post the panel without any animation, set
the number of steps to zero. The default position is 'Button center'.</p>
</div>
<div class="paragraph">
<p>Please refer to the <em>CREATING PANELS</em> section for further information
on panels.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  # To include the panel in a button
  *FvwmButtons: (Panel(down, delay 0, steps 16) \
    SubPanel "Module FvwmButtons SubPanel")

  # To define the panel as an instance of
  # FvwmButtons with a different name:
  *SubPanel: (Icon my_lock.xpm, Action Exec xlock)
  *SubPanel: (Icon my_move.xpm, Action Move)
  ...</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Right</dt>
<dd>
<p>The contents of the button are aligned to the right. The default is
to center the contents on the button.</p>
</dd>
<dt class="hdlist1">Size width height</dt>
<dd>
<p>Specifies that the contents of this button require <em>width</em> by
<em>height</em> pixels, regardless of what size FvwmButtons calculates from
the icon and the title. A button bar with only swallowed windows
will not get very large without this option specified, as
FvwmButtons does not consider sizes for swallowing buttons. Note
that this option gives the minimum space assured; other buttons
might require the buttonbox to use larger sizes.</p>
</dd>
<dt class="hdlist1">Swallow [(flags)] hangon command</dt>
<dd>
<p>Causes FvwmButtons to execute <em>command</em>, and when a window with a
name, class or resource matching <em>hangon</em> appears, it is captured
and swallowed into this button. The <em>hangon</em> string may contain
wildcard characters ('*') that match any substring. Swallow replaces
the variables <em>$fg</em> and <em>$bg</em> as described above for the <em>Action</em>
option (but if you use the UseOld and NoClose options the
application is not be restarted when FvwmButtons is restarted and
thus does not get the new colors - if you changed them). An example:</p>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Swallow XClock 'Exec xclock -geometry -3000-3000 &amp;')</pre>
</div>
</div>
<div class="paragraph">
<p>takes the first window whose name, class, or resource is "XClock" and
displays it in the button. If no matching window is found, the "Exec"
command creates one. The argument "-geometry -3000-3000" is used so
that the window is first drawn out of sight before its swallowed into
FvwmButtons.</p>
</div>
<div class="paragraph">
<p>Modules can be swallowed by specifying the module instead of 'Exec
whatever', like:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Swallow "FvwmPager" "FvwmPager 0 0")</pre>
</div>
</div>
<div class="paragraph">
<p>The flags that can be given to swallow are:</p>
</div>
<div class="paragraph">
<p>NoClose / Close - Specifies whether the swallowed program in this
button will be un-swallowed or closed when FvwmButtons exits cleanly.
"NoClose" can be combined with "UseOld" to have windows survive a
restart of the window manager. The default setting is "Close".</p>
</div>
<div class="paragraph">
<p>NoHints / Hints - Specifies whether hints from the swallowed program
in this button will be ignored or not, useful in forcing a window to
resize itself to fit its button. The default value is "Hints".</p>
</div>
<div class="paragraph">
<p>NoKill / Kill - Specifies whether the swallowed program will be closed
by killing it or by sending a message to it. This can be useful in
ending programs that doesn&#8217;t accept window manager protocol. The
default value is "NoKill". This has no effect if "NoClose" is
specified.</p>
</div>
<div class="paragraph">
<p>NoRespawn / Respawn / SwallowNew - Specifies whether the swallowed
program is to be respawned (restarted) if it dies. If "Respawn" is
specified, the program is respawned using the original <em>command</em>. Use
this option with care, the program might have a legitimate reason to
die. If "SwallowNew" is given, the program is not respawned, but if a
new window with the specified name appears, it is swallowed.</p>
</div>
<div class="paragraph">
<p>NoOld / UseOld - Specifies whether the button will try to swallow an
existing window matching the <em>hangon</em> name before spawning one itself
with <em>command</em>. The <em>hangon</em> string may contain wildcard characters
('*') that match any substring.The default value is "NoOld". "UseOld"
can be combined with "NoKill" to have windows survive a restart of the
window manager. If you want FvwmButtons to swallow an old window, and
not spawn one itself if failing, let the <em>command</em> be "Nop":</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Swallow (UseOld) "Console" Nop)</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to be able to start it yourself, combine it with an action:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Swallow (UseOld) "Console" Nop, \
               Action `Exec "Console" console &amp;`)</pre>
</div>
</div>
<div class="paragraph">
<p>NoTitle / UseTitle - Specifies whether the title of the button will be
taken from the swallowed window&#8217;s title or not. If "UseTitle" is
given, the title on the button changes dynamically to reflect the
window name. The default is "NoTitle".</p>
</div>
<div class="paragraph">
<p>NoFvwmModule / FvwmModule - By default, FvwmButtons treats the
swallowed window as an fvwm module window if the 4 first letters of
the <em>command</em> is "Fvwm" or the 6 first letters of the <em>command</em> is
"Module". NoFvwmModule and FvwmModule override this logic.</p>
</div>
</dd>
<dt class="hdlist1">Title [(options)] name</dt>
<dd>
<p>Specifies the title to be written on the button. Whitespace can be
included in the title by quoting it. If a title at any time is too
long for its buttons, characters are chopped of one at a time until
it fits. If <em>justify</em> is "Right", the head is removed, otherwise its
tail is removed. These <em>options</em> can be given to Title:</p>
<div class="paragraph">
<p>Center - The title is centered horizontally. This is the default.</p>
</div>
<div class="paragraph">
<p>Left - The title is justified to the left side.</p>
</div>
<div class="paragraph">
<p>Right - The title is justified to the right side.</p>
</div>
<div class="paragraph">
<p>Side - Causes the title to appear on the right hand side of any icon
or swallowed window, instead of below which is the default. If you use
small icons, and combine this with the "Left" or "Right" option, you
can get a look similar to fvwm&#8217;s menus.</p>
</div>
</dd>
<dt class="hdlist1">ActiveTitle name</dt>
<dd>
<p>Specifies the title to be written on the button when the mouse is
hovering above the button. If no ActiveTitle is specified, the text
specified by Title is displayed (if there is any).</p>
</dd>
<dt class="hdlist1">PressTitle name</dt>
<dd>
<p>Specifies the title to be written on the button when the button is
pressed. If no PressTitle is specified, the text specified by Title
is displayed (if there is any).</p>
</dd>
<dt class="hdlist1">Legacy fields [title icon command]</dt>
<dd>
<p>These fields are kept for compatibility with previous versions of
FvwmButtons, and their use is discouraged. The <em>title</em> field is
similar to the option Title <em>name</em>. If the title field is "-", no
title is displayed. The <em>icon</em> field is similar to the option Icon
<em>filename</em>. If the icon field is "-" no icon is displayed. The
<em>command</em> field is similar to the option Action <em>command</em> or
alternatively Swallow "<em>hangon</em>" <em>command</em>.</p>
</dd>
<dt class="hdlist1">The command</dt>
<dd>
<p>Any fvwm command is recognized by FvwmButtons. See fvwm(1) for more
information.</p>
<div class="paragraph">
<p>The Exec command has a small extension when used in Actions, its
syntax is:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  Exec ["hangon"] command</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  *FvwmButtons: (Action Exec "xload" xload)</pre>
</div>
</div>
<div class="paragraph">
<p>The hangon string must be enclosed in double quotes. When FvwmButtons
finds such an Exec command, the button remains pushed in until a
window whose name, class or resource matches the quoted portion of the
command is encountered. This is intended to provide visual feedback to
the user that the action he has requested will be performed. The
hangon string may contain wildcard characters ('*') that match any
substring. If the quoted portion contains no characters, then the
button will pop out immediately. Note that users can continue pressing
the button, and re-executing the command, even when it looks pressed
in.</p>
</div>
</dd>
<dt class="hdlist1">Quoting</dt>
<dd>
<p>Any string which contains whitespace must be quoted. Contrary to
earlier versions commands no longer need to be quoted. In this case
any quoting character will be passed on to the application
untouched. Only commas ',' and closing parentheses ')' have to be
quoted inside a command. Quoting can be done with any of the three
quotation characters; single quote:</p>
<div class="paragraph">
<p>'This is a "quote"',</p>
</div>
<div class="paragraph">
<p>double quote:</p>
</div>
<div class="paragraph">
<p>"It&#8217;s another `quote'",</p>
</div>
<div class="paragraph">
<p>and back quote:</p>
</div>
<div class="paragraph">
<p><code>This is a strange quote</code>.</p>
</div>
<div class="paragraph">
<p>The back quoting is unusual but used on purpose, if you use a
preprocessor and want it to get into your commands, like
this:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>  #define BG gray60
  *FvwmButtons: (Swallow "xload" `Exec xload -bg BG &amp;`)</pre>
</div>
</div>
<div class="paragraph">
<p>Any single character can be quoted with a preceding backslash '\'.</p>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_panels">CREATING PANELS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Former versions of FvwmButtons (fvwm 2.0.46 to 2.3.6) had a different
way of handling panels. You can not use your old panel configuration
with the new panel feature. Read "CONVERTING OLD PANEL CONFIGURATIONS"
for more information.</p>
</div>
<div class="sect2">
<h3 id="_how_to_create_new_panels">HOW TO CREATE NEW PANELS</h3>
<div class="paragraph">
<p>Any program that can be launched from within fvwm and that has a window
can be used as a panel. A terminal window could be your panel, or some
application like xload or xosview or another fvwm module, including
FvwmButtons itself. All you need to know is how to start your
application from fvwm.</p>
</div>
<div class="paragraph">
<p>The button that invokes the panel is as easily configured as any other
button. Essentially you need nothing more than the <em>Panel</em> option:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*FvwmButtons: (Panel my_first_panel \
  "Module FvwmButtons -g -30000-30000 my_first_panel")
*FvwmButtons: (Panel my_second_panel \
  "Exec exec xterm -g -30000-30000 -n my_second_panel")</pre>
</div>
</div>
<div class="paragraph">
<p>This works like the <em>Swallow</em> option. The difference is that the
application is not put into the button when it starts up but instead
hidden from view. When you press the button for the panel the window
slides into view. The '-g -30000-30000' option tells the application
that it should be created somewhere very far to the top and left of your
visible screen. Otherwise you would see it flashing for a moment when
FvwmButtons starts up. Some applications do not work well with this kind
of syntax so you may have to live with the short flashing of the window.
If you want to make a panel from another instance of FvwmButtons you can
do so, but you must give it a different name ('my_first_panel' in above
example). If you run FvwmButtons under the same name, new panels are
created recursively until your system runs out of resources and
FvwmButtons crashes! To configure a second button bar with a different
name, simply put '*new_name' in place of '*FvwmButtons' in your
configuration file. If you are not familiar with the <em>Swallow</em> option or
if you want to learn more about how 'swallowing' panels works, refer to
the description of the <em>Swallow</em> option.</p>
</div>
<div class="paragraph">
<p>Now that your panel basically works you will want to tune it a bit. You
may not want a window title on the panel. To disable the title use the
fvwm <em>Style</em> command. If your button bar is 'sticky' you may want to
make the panel sticky too. And probably the panel window should have no
icon in case it is iconified.</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>Style name_of_panel_window NoTitle, Sitcky, NoIcon</pre>
</div>
</div>
<div class="paragraph">
<p>You may want your panel to stay open only until you select something in
it. You can give FvwmButtons the <em>-transientpanel</em> option after the -g
option in the command. FvwmPager has a similar option '-transient'.</p>
</div>
<div class="paragraph">
<p>Last, but not least, you can now put an icon, a title or a small arrow
in the button so that you can see what it is for. A title or icon can be
specified as usual. To activate the arrow, just add '(indicator)' after
the 'Panel' keyword in the example above and the <em>Padding</em> option to
leave a few pixels between the arrow and the border of the button. An
optional direction in which the panel is opened can be given too:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*FvwmButtons: (Padding 2, Panel(down, indicator) my_first_panel \
  "Module FvwmButtons -g -30000-30000 -transientpanel my_first_panel")</pre>
</div>
</div>
<div class="paragraph">
<p>There are several more options to configure how your panel works, for
example the speed and smoothness of the sliding animation. Please refer
to the description of the <em>Panel</em> option for further details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_converting_old_panel_configurations">CONVERTING OLD PANEL CONFIGURATIONS</h3>
<div class="paragraph">
<p>This section describes how to convert a pretty old syntax used in 2.2.x
versions. You may skip it if your syntax is more recent.</p>
</div>
<div class="paragraph">
<p>With the old panel feature you first had one or more lines defining
panels in your main FvwmButtons configuration:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>...
*FvwmButtons(Title WinOps,Panel WinOps)
*FvwmButtons(Title Tools ,Panel Tools)
...</pre>
</div>
</div>
<div class="paragraph">
<p>After the last configuration line for the main panel the configuration
of the first panel followed, introduced with a line beginning with
*FvwmButtonsPanel:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*FvwmButtonsPanel WinOps
*FvwmButtonsBack bisque2
...

*FvwmButtonsPanel Tools
*FvwmButtonsBack bisque2
...</pre>
</div>
</div>
<div class="paragraph">
<p>And perhaps you had style commands for you panels:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>Style FvwmButtonsPanel Title, NoHandles, BorderWidth 0
Style FvwmButtonsPanel NoButton 2, NoButton 4, Sticky</pre>
</div>
</div>
<div class="paragraph">
<p>The new configuration looks much the same, but now the configuration of
the main panel is independent of the configuration of the sub panels.
The lines invoking the panels use the same syntax as the Swallow option,
so you simply add the name of the window to use as a panel and the
command to execute instead of the panel name. Note that you give the new
instance of FvwmButtons a different name.</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*FvwmButtons: (Title WinOps, Panel WinOps \
  "Module FvwmButtons WinOps")
*FvwmButtons: (Title Tools , Panel Tools \
  "Module FvwmButtons Tools")</pre>
</div>
</div>
<div class="paragraph">
<p>If you used something like 'Panel-d' you now have to use 'Panel(down)'
instead. To make the new panel vanish as soon as a button was selected
start FvwmButtons with the '-transientpanel' option:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*FvwmButtons: (Title Tools , Panel(down) Tools \
  "Module FvwmButtons -transientpanel Tools")</pre>
</div>
</div>
<div class="paragraph">
<p>The rest of the configuration is very easy to change. Delete the lines
'*FvwmButtonsPanel &lt;name&gt;' and add &lt;name&gt; to all of the following
configuration lines for the panel instead. Use the same name in your
Style commands:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*WinOps: Back bisque2
...
*Tools: Back bisque2
...
Style "WinOps" Title, NoHandles, BorderWidth 0
Style "WinOps" NoButton 2, NoButton 4, Sticky
Style "Tools" Title, NoHandles, BorderWidth 0
Style "Tools" NoButton 2, NoButton 4, Sticky</pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s it. The new panels are much more flexible. Please refer to other
parts of this documentation for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_was_the_panel_feature_rewritten">WHY WAS THE PANEL FEATURE REWRITTEN?</h3>
<div class="paragraph">
<p>There are several reasons. The most important one is that the program
code implementing the panels was very disruptive and caused a lot of
problems. At the same time it made writing new features for FvwmButtons
difficult at best. The second reason is that most users were simply
unable to make it work - it was way too complicated. Even I (the author
of the new code) had to spend several hours before I got it working the
first time. The third reason is that the new panels are more versatile.
Any application can be a panel in FvwmButtons, not just other instances
of FvwmButtons itself. So I sincerely hope that nobody is angry about
the change. Yes - you have to change your configuration, but the new
feature is much easier to configure, especially if you already know how
the Swallow option works.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_arrangement_algorithm">ARRANGEMENT ALGORITHM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FvwmButtons tries to arrange its buttons as best it can, by using
recursively, on each container including the buttonbox itself, the
following algorithm.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Getting the size right</dt>
<dd>
<p>First it calculates the number of button unit areas it will need, by
adding the width times the height in buttons of each button.
Containers are for the moment considered a normal button. Then it
considers the given <em>rows</em> and <em>columns</em> arguments. If the number of
rows is given, it will calculate how many columns are needed, and
stick to that, unless <em>columns</em> is larger, in which case you will get
some empty space at the bottom of the buttonbox. If the number of
columns is given, it calculates how many rows it needs to fit all the
buttons. If neither is given, it assumes you want two rows, and finds
the number of columns from that. If the BoxSize option is set to
<em>smart</em> at least the height/width of the tallest/widest button is used
while the <em>fixed</em> value prevents the box from getting resized if both
<em>rows</em> and <em>columns</em> have been set to non-zero.</p>
</dd>
<dt class="hdlist1">Shuffling buttons</dt>
<dd>
<p>Now it has a large enough area to place the buttons in, all that is
left is to place them right. There are two kinds of buttons: fixed and
floating buttons. A fixed button is forced to a specific slot in the
button box by a x/y geometry argument. All other buttons are
considered floating. Fixed buttons are placed first. Should a fixed
button overlap another one or shall be place outside the buttons
window, FvwmButtons exits with an error message. After that the
floating buttons are placed. The algorithm tries to place the buttons
in a left to right, top to bottom western fashion. If a button fits at
the suggested position it is placed there, if not the current slot
stays empty and the slot to the right will be considered. After the
button has been placed, the next button is tried to be placed in the
next slot and so on until all buttons are placed. Additional rows are
added below the bottom line of buttons until all buttons are placed if
necessary if the BoxSize option <em>smart</em> is used.</p>
</dd>
<dt class="hdlist1">Containers</dt>
<dd>
<p>Containers are arranged by the same algorithm, in fact they are
shuffled recursively as the algorithm finds them.</p>
</dd>
<dt class="hdlist1">Clarifying example</dt>
<dd>
<p>An example might be useful here: Suppose you have 6 buttons, all unit
sized except number two, which is 2x2. This makes for 5 times 1 plus 1
times 4 equals 9 unit buttons total area. Assume you have requested 3
columns.</p>
</dd>
</dl>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>1) +---+---+---+   2) +---+---+---+   3) +---+---+---+
   | 1 |       |      | 1 |       |      | 1 |       |
   +---+       +      +---+   2   +      +---+   2   +
   |           |      |   |       |      | 3 |       |
   +           +      +   +---+---+      +---+---+---+
   |           |      |           |      |   |   |   |
   +-----------+      +---+-------+      +---+---+---+

4) +---+---+---+   5) +---+-------+   6) +---+-------+
   | 1 |       |      | 1 |       |      | 1 |       |
   +---+   2   +      +---+   2   |      +---+   2   |
   | 3 |       |      | 3 |       |      | 3 |       |
   +---+---+---+      +---+---+---+      +---+-------+
   | 4 |       |      | 4 | 5 |   |      | 4 | 5 | 6 |
   +---+---+---+      +---+---+---+      +---+---+---+</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">What size will the buttons be?</dt>
<dd>
<p>When FvwmButtons has read the icons and fonts that are required by its
configuration, it can find out which size is needed for every
non-swallowing button. The unit button size of a container is set to
be large enough to hold the largest button in it without squeezing it.
Swallowed windows are simply expected to be comfortable with the
button size they get from this scheme. If a particular configuration
requires more space for a swallowed window, it can be set in that
button&#8217;s configuration line using the option "Size <em>width height</em>".
This will tell FvwmButtons to give this button at least <em>width</em> by
<em>height</em> pixels inside the relief and padding.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dynamical_actions">DYNAMICAL ACTIONS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A running FvwmButtons instance may receive some commands at run time.
This is achieved using the fvwm command</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>SendToModule FvwmButtons-Alias &lt;action&gt; &lt;params&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Supported actions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ChangeButton button_id options</dt>
<dd>
<p>can be used to change the title or icon of a button at run time.
<em>button_id</em> is the id of the button to change as specified using the
<strong>Id</strong> button option. It may also be a number, in this case the button
with the given number is assumed. And finally, <em>button_id</em> may be in
the form +x+y, where x and y are a column number and a row number of
the button to be changed. It is possible to specify multiple option
pairs (name with value) by delimiting them using comma. Currently
options include <strong>Title</strong>, <strong>ActiveTitle</strong>, <strong>PressTitle</strong>, <strong>Colorset</strong>,
<strong>Icon</strong>, <strong>ActiveIcon</strong> and <strong>PressIcon</strong>. These options work like the
configuration options of the same name.</p>
</dd>
<dt class="hdlist1">ExpandButtonVars button_id command</dt>
<dd>
<p>replaces variables present in the <em>command</em> exactly like in the
<strong>Action</strong> button option and then sends the command back to fvwm.
<em>button_id</em> has the same syntax as described in <strong>ChangeButton</strong> above.</p>
</dd>
<dt class="hdlist1">PressButton button_id [mouse_button]</dt>
<dd>
<p>simulates a mouse click on a button. <em>button_id</em> is the id of the
button to press as specified using the <strong>Id</strong> button option and
<em>mouse_button</em> is the number of mouse button used to click on the
button e.g "1" for the left mouse button etc. Quotes around the number
are not necessary. If <em>mouse_button</em> option is omitted, mouse button 1
is assumed. This command behaves exactly as if the mouse button was
pressed and released on the button on in question.</p>
</dd>
<dt class="hdlist1">Silent</dt>
<dd>
<p>This prefix may be specified before other actions. It disables all
possible error and warning messages.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
</dl>
</div>
</dd>
</dl>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>*FvwmButtons: (Id note1, Title "13:30 - Dinner", Icon clock1.xpm)

SendToModule FvwmButtons Silent \
  ChangeButton note1 Icon clock2.xpm, Title "18:00 - Go Home"</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sample_configuration">SAMPLE CONFIGURATION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are excerpts from a .fvwm2rc file which describe
FvwmButtons initialization commands:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>##########################################################
# Load any modules which should be started during fvwm
# initialization

# Make sure FvwmButtons is always there.
AddToFunc StartFunction  "I" Module FvwmButtons

# Make it titlebar-less, sticky, and give it an icon
Style "FvwmButtons"	Icon toolbox.xpm, NoTitle, Sticky

# Make the menu/panel look like CDE
Style "WinOps" Title, NoHandles, BorderWidth 0
Style "WinOps" NoButton 2, NoButton 4, Sticky
Style "Tools" Title, NoHandles, BorderWidth 0
Style "Tools" NoButton 2, NoButton 4, Sticky

##########################################################
DestroyModuleConfig FvwmButtons: *
*FvwmButtons: Fore Black
*FvwmButtons: Back rgb:90/80/90
*FvwmButtons: Geometry -135-5
*FvwmButtons: Rows 1
*FvwmButtons: BoxSize smart
*FvwmButtons: Font -*-helvetica-medium-r-*-*-12-*
*FvwmButtons: Padding 2 2

*FvwmButtons: (Title WinOps, Panel WinOps \
  "Module FvwmButtons -transientpanel WinOps")
*FvwmButtons: (Title Tools, Panel Tools   \
  "Module FvwmButtons -transientpanel Tools")

*FvwmButtons: (Title Resize, Icon resize.xpm,  Action Resize)
*FvwmButtons: (Title Move,   Icon arrows2.xpm, Action Move  )
*FvwmButtons: (Title Lower,  Icon Down,        Action Lower )
*FvwmButtons: (Title Raise,  Icon Up,          Action Raise )
*FvwmButtons: (Title Kill,   Icon bomb.xpm,    Action Destroy)

*FvwmButtons: (1x1,Container(Rows 3,Frame 1))
*FvwmButtons: (Title Dopey ,Action                          \
    `Exec "big_win" xterm -T big_win -geometry 80x50 &amp;`)
*FvwmButtons: (Title Snoopy, Font fixed, Action             \
    `Exec "small_win" xterm -T small_win &amp;`)
*FvwmButtons: (Title Smokin')
*FvwmButtons: (End)

*FvwmButtons: (Title Xcalc, Icon rcalc.xpm,                 \
             Action `Exec "Calculator" xcalc &amp;`)
*FvwmButtons: (Title XMag, Icon magnifying_glass2.xpm,      \
             Action `Exec "xmag" xmag &amp;`)
*FvwmButtons: (Title Mail, Icon mail2.xpm,                  \
             Action `Exec "xmh" xmh &amp;`)
*FvwmButtons: (4x1, Swallow "FvwmPager" `FvwmPager 0 3`     \
             Frame 3)

*FvwmButtons: (Swallow(UseOld,NoKill) "xload15" `Exec xload \
     -title xload15 -nolabel -bg rgb:90/80/90 -update 15    \
     -geometry -3000-3000 &amp;`)</pre>
</div>
</div>
<div class="paragraph">
<p>The last lines are a little tricky - one spawns an FvwmPager module, and
captures it to display in a quadruple width button. is used, the Pager
will be as big as possible within the button&#8217;s relief.</p>
</div>
<div class="paragraph">
<p>The final line is even more magic. Note the combination of <em>UseOld</em> and
<em>NoKill</em>, which will try to swallow an existing window with the name
"xload15" when starting up (if failing: starting one with the specified
command), which is un-swallowed when ending FvwmButtons. The swallowed
application is started with "-geometry -3000-3000" so that it will not
be visible until its swallowed.</p>
</div>
<div class="paragraph">
<p>The other panels are specified after the root panel:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>########## PANEL WinOps
DestroyModuleConfig WinOps: *
*WinOps: Back bisque2
*WinOps: Geometry -3-3
*WinOps: Columns 1

*WinOps: (Title Resize, Icon resize.xpm,  Action Resize)
*WinOps: (Title Move,   Icon arrows2.xpm, Action Move  )
*WinOps: (Title Lower,  Icon Down,        Action Lower )
*WinOps: (Title Raise,  Icon Up,          Action Raise )

########## PANEL Tools
DestroyModuleConfig Tools: *
*Tools: Back bisque2
*Tools: Geometry -1-1
*Tools: Columns 1

*Tools: (Title Kill,    Icon bomb.xpm,    Action Destroy)</pre>
</div>
</div>
<div class="paragraph">
<p>The color specification <em>rgb:90/80/90</em> is actually the most correct way
of specifying independent colors in X, and should be used instead of the
older <em>#908090</em>. If the latter specification is used in your
configuration file, you should be sure to escape the hash in any of the
<em>command</em>s which will be executed, or fvwm will consider the rest of
the line a comment.</p>
</div>
<div class="paragraph">
<p>Note that with the x/y geometry specs you can easily build button
windows with gaps. Here is another example. You can not accomplish this
without geometry specs for the buttons:</p>
</div>
<div class="literalblock highlight">
<div class="content">
<pre>##########################################################
# Another example
##########################################################

# Make it titlebar-less, sticky, and give it an icon
Style "FvwmButtons"	Icon toolbox.xpm, NoTitle, Sticky

DestroyModuleConfig FvwmButtons: *
*FvwmButtons: Font        5x7
*FvwmButtons: Back rgb:90/80/90
*FvwmButtons: Fore        black
*FvwmButtons: Frame       1
# 9x11 pixels per button, 4x4 pixels for the frame
*FvwmButtons: Geometry    580x59+0-0
*FvwmButtons: Rows        5
*FvwmButtons: Columns     64
*FvwmButtons: BoxSize     fixed
*FvwmButtons: Padding     1 1

# Pop up a module menu directly above the button.
*FvwmButtons: (9x1+3+0, Padding 0, Title "Modules",   \
  Action `Menu Modulepopup rectangle \
  $widthx$height+$lleft+$top o+50 -100m`)

# first row of buttons from left to right:
*FvwmButtons: (3x2+0+1, Icon my_lock.xpm, Action `Exec xlock`)
*FvwmButtons: (3x2+3+1, Icon my_recapture.xpm, Action Recapture)
*FvwmButtons: (3x2+6+1, Icon my_resize.xpm, Action Resize)
*FvwmButtons: (3x2+9+1, Icon my_move.xpm, Action Move)
*FvwmButtons: (3x2+12+1, Icon my_fvwmconsole.xpm,     \
  Action 'Module FvwmConsole')

# second row of buttons from left to right:
*FvwmButtons: (3x2+0+3, Icon my_exit.xpm, Action QuitSave)
*FvwmButtons: (3x2+3+3, Icon my_restart.xpm, Action Restart)
*FvwmButtons: (3x2+6+3, Icon my_kill.xpm, Action Destroy)
*FvwmButtons: (3x2+9+3, Icon my_shell.xpm, Action 'Exec rxvt')

# big items
*FvwmButtons: (10x5, Swallow (NoKill, NoCLose)        \
  "FvwmPager" 'FvwmPager * * -geometry 40x40-1024-1024')
*FvwmButtons: (6x5, Swallow "FvwmXclock" `Exec xclock \
  -name FvwmXclock -geometry 40x40+0-3000 -padding 1  \
  -analog -chime -bg rgb:90/80/90`)
*FvwmButtons: (13x5, Swallow (NoClose)                \
"FvwmIconMan" 'Module FvwmIconMan')
*FvwmButtons: (20x5, Padding 0, Swallow "xosview"     \
  `Exec /usr/X11R6/bin/xosview -cpu -int -page -net   \
  -geometry 100x50+0-3000 -font 5x7`)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bugs">BUGS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The action part of the Swallow option must be quoted if it contains any
whitespace character.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_history">HISTORY</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The FvwmButtons program, and the concept for interfacing this module to
the Window Manager, are all original work by Robert Nation.</p>
</div>
<div class="paragraph">
<p>Originally, FvwmGoodStuff preceded FvwmButtons.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_author">AUTHOR</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Robert Nation (1993). Somewhat enhanced by Jarl Totland (1996),
Jui-Hsuan Joshua Feng, Scott Smedley.</p>
</div>
</div>
</div>
